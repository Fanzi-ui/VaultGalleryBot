{% extends "base.html" %}
{% set hide_nav = true %}

{% block head %}
    <link rel="stylesheet" href="/static/css/login.css">
{% endblock %}

{% block content %}
<div class="login-shell">
  <div class="login-card">
    <img src="/static/logo/logo.png" alt="VaultGalleryBot logo" class="login-logo">
    <h1 class="login-title">Login</h1>
    <form action="/login" method="post">
      <label for="username">Username</label>
      <input type="text" id="username" name="username" required>

      <label for="password">Password</label>
      <input type="password" id="password" name="password" required>
      <label class="login-toggle">
        <input type="checkbox" id="toggle-password">
        Show password
      </label>

      {% if error %}
      <p class="login-error">{{ error }}</p>
      {% endif %}

      <button type="submit">Log in</button>
    </form>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
  const toggle = document.getElementById("toggle-password");
  const passwordInput = document.getElementById("password");
  if (toggle && passwordInput) {
    toggle.addEventListener("change", () => {
      passwordInput.type = toggle.checked ? "text" : "password";
    });
  }
</script>
{% endblock %}
