{% extends "base.html" %}

{% block head %}
  <link rel="stylesheet" href="/static/css/dashboard.css">
{% endblock %}

{% block content %}

<!-- BACKGROUND -->
<div id="slideshow">
  <div id="bg-single">
    <img class="bg-item" id="bg-image-1" alt="Background media" />
    <img class="bg-item" id="bg-image-2" alt="" />
    <img class="bg-item" id="bg-image-3" alt="" />
  </div>
</div>

<div class="hero">
  <div>
    <img src="/static/logo/logo.png" alt="VaultGalleryBot logo">
    <p>Welcome back</p>
  </div>
</div>

<!-- HUD NAV BAR -->
<div class="hud-nav">
  <span>Models: {{ model_count }}</span>
  <span>|</span>
  <span>Media: {{ media_count }}</span>
  <span>|</span>
  <a href="/models{{ token_query }}">View Models →</a>
</div>

<!-- CONTROLS -->
<div class="controls">
  <button id="shuffle-toggle" aria-label="Shuffle background">SHUFFLE</button>
  <button id="motion-toggle" aria-label="Pause background motion">PAUSE MOTION</button>
  <a href="/logout" aria-label="Logout">LOGOUT</a>
  <button id="logo-toggle" aria-label="Toggle logo">HIDE LOGO</button>
</div>

<div class="hud-status">Randomized • {{ media_count }} media</div>

<div id="rating-modal" class="rating-modal">
  <div class="rating-card">
    <h3 id="rating-title">Rate Image</h3>
    <img id="rating-preview" class="rating-preview" alt="">
    <label>
      Rating
      <div id="rating-value" class="rating-value">—</div>
    </label>
    <label>
      Caption
      <textarea id="rating-caption" rows="3" maxlength="280"></textarea>
    </label>
    <div class="rating-actions">
      <button id="rating-submit" type="button" aria-label="Save rating">Save</button>
      <button id="rating-cancel" type="button" aria-label="Close rating modal">Close</button>
    </div>
    <div id="rating-note" class="rating-note"></div>
  </div>
</div>

<script id="dashboard-data" type="application/json">
{{ {
  "images": slideshow_images | default([])
} | tojson }}
</script>
<script src="/static/js/dashboard.js"></script>

{% endblock %}
