{% extends "base.html" %}

{% block head %}
  <link rel="stylesheet" href="/static/css/collections.css">
{% endblock %}

{% block content %}
<div class="collections-header">
  <div>
    <h2>Collections</h2>
    <p>Launch curated slideshows or build your own mix.</p>
  </div>
</div>

<div class="collections-grid">
  <div class="collection-card">
    <div class="collection-title">Top Rated</div>
    <div class="collection-meta">Rated images only</div>
    <a class="collection-link" href="/slideshow?rating=rated{{ '&token=' ~ token if token else '' }}">Launch →</a>
  </div>
  <div class="collection-card">
    <div class="collection-title">Unrated Queue</div>
    <div class="collection-meta">Needs captions</div>
    <a class="collection-link" href="/slideshow?rating=unrated{{ '&token=' ~ token if token else '' }}">Launch →</a>
  </div>
  <div class="collection-card">
    <div class="collection-title">Video Loop</div>
    <div class="collection-meta">All videos</div>
    <a class="collection-link" href="/slideshow?type=video{{ '&token=' ~ token if token else '' }}">Launch →</a>
  </div>
</div>

<div class="builder">
  <div class="builder-title">Build a Custom Slideshow</div>
  <form class="builder-form" action="/slideshow" method="get">
    <input type="hidden" name="token" value="{{ token }}">
    <label>
      Model
      <select name="model">
        <option value="">All models</option>
        {% for model in models %}
          <option value="{{ model }}">{{ model }}</option>
        {% endfor %}
      </select>
    </label>
    <label>
      Media Type
      <select name="type">
        <option value="">All</option>
        <option value="image">Images</option>
        <option value="video">Videos</option>
      </select>
    </label>
    <label>
      Rating
      <select name="rating">
        <option value="">Any</option>
        <option value="rated">Rated only</option>
        <option value="unrated">Unrated only</option>
      </select>
    </label>
    <label>
      Mode
      <select name="mode">
        <option value="drift">Drift</option>
        <option value="cut">Cut</option>
        <option value="shuffle">Shuffle</option>
      </select>
    </label>
    <label>
      Speed (seconds)
      <input name="speed" type="number" min="4" max="16" value="8">
    </label>
    <button type="submit">Start Slideshow →</button>
  </form>
</div>
{% endblock %}
